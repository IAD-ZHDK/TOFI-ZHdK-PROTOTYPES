(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{"8z7e":function(e,s){},ERIh:function(e,s,t){"use strict";t("8z7e");var o=r(t("I335")),n=r(t("pbXo"));function r(e){return e&&e.__esModule?e:{default:e}}var i=document.getElementById("p5-container");new o.default((function(e){for(var s=void 0,o=void 0,r=["Battery","Reference","Ch 6","Ch 5","Ch 4","Ch 3","Ch 2","Ch 1"],i=new Array(8),a=0;a<i.length;a++)i[a]=new Array(1);var l=t("iZKT");e.gui=new l.GUI,e.guiObject={factor:.5},e.preload=function(){s=e.loadFont("static/fonts/inconsolata.otf")},e.setup=function(){e.createCanvas(e.windowWidth,e.windowHeight),o=new n.default,e.textFont(s),e.textSize(e.width/100),e.fill(255),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),window.chrome&&(window.chrome.webstore||window.chrome.runtime)||window.alert("BLE may not work in your browser. Use Chrome or check for a list of compatible browsers here: https://developer.mozilla.org/en-US/docs/Web/API/Web_Bluetooth_API");var t=e.gui.addFolder("filter (weighted moving average)");t.add(e.guiObject,"factor",0,.99),t.open()},e.draw=function(){if(e.clear(),o.isConnected){for(var s=[],t=0;t<o.sensorValues.length-1;t++)s.push(o.sensorValues[t+1]);var n=e.windowWidth/o.sensorValues.length;e.translate(n/2,e.windowHeight/2);for(var a=0;a<o.sensorValues.length;a++){e.push(),e.translate(n*a,0);var l=e.map(o.sensorValues[a],0,16384,10,.3*n);i[a].unshift(l/2),e.stroke(100),e.noFill(),e.beginShape();for(var c=0;c<i[a].length-1;c++)e.vertex(i[a][c],-c);e.endShape(),e.beginShape();for(var u=0;u<i[a].length-1;u++)e.vertex(-i[a][u],-u);e.endShape(),e.fill(255),e.ellipse(0,0,l,l),e.noStroke(),e.translate(0,n/3*4),e.text(o.sensorValues[a],0,0),e.translate(0,e.textSize()),e.text(r[a],0,0),e.pop(),o.setFilter(e.guiObject.factor)}}else e.translate(e.windowWidth/2,e.windowHeight/2),e.text("No BLE Connection, click anywhere to pair BLE device",0,0)},e.touchStarted=function(){o.isConnected||o.connectAndStartNotify()},e.windowResized=function(){e.resizeCanvas(e.windowWidth,e.windowHeight)}}),i)},pbXo:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=i(t("iCc5")),n=i(t("V7oC")),r=(i(t("I335")),i(t("pvlQ")));function i(e){return e&&e.__esModule?e:{default:e}}var a=void 0,l=function(){function e(){(0,o.default)(this,e),console.log("looking for: A22A0001-AD0B-4DF2-A4E2-1745CBB4dCEE"),this.serviceUuid="A22A0001-AD0B-4DF2-A4E2-1745CBB4dCEE",this.myBLE=new r.default,this.isConnected=!1,this.sensorValues=[],this.sensorValues[0]=0,this.sensorValues[1]=0,this.sensorValues[2]=0,this.sensorValues[3]=0,this.sensorValues[4]=0,this.sensorValues[5]=0,this.sensorValues[6]=0,this.sensorValues[7]=0,this.filtering=!0,this.factor=.5,a=this}return(0,n.default)(e,[{key:"connectAndStartNotify",value:function(){this.myBLE.connect(this.serviceUuid,this.gotCharacteristics)}},{key:"gotCharacteristics",value:function(e,s){if(e)console.log("error: ",e);else{console.log(s[0]),console.log("check connection."),a.isConnected=a.myBLE.isConnected(),a.myBLE.onDisconnected(a.onDisconnected);for(var t=0;t<s.length;t++)if(0===t){var o=s[t];a.myBLE.startNotifications(o,a.handleSensor,"custom"),console.log("characteristics: 1")}else 1===t?console.log("characteristics: 2"):2===t?console.log("characteristics: 3"):console.log("characteristic doesn't match.")}}},{key:"onDisconnected",value:function(){console.log("Device was disconnected."),this.isConnected=!1}},{key:"setFilter",value:function(e){this.factor=e,this.factor<=.01?this.filtering=!1:this.filtering=!0}},{key:"handleSensor",value:function(e){if(a.filtering){var s=a.factor;a.sensorValues[0]=Math.floor(a.sensorValues[0]*s),a.sensorValues[1]=Math.floor(a.sensorValues[1]*s),a.sensorValues[2]=Math.floor(a.sensorValues[2]*s),a.sensorValues[3]=Math.floor(a.sensorValues[3]*s),a.sensorValues[4]=Math.floor(a.sensorValues[4]*s),a.sensorValues[5]=Math.floor(a.sensorValues[5]*s),a.sensorValues[6]=Math.floor(a.sensorValues[6]*s),a.sensorValues[7]=Math.floor(a.sensorValues[7]*s),a.sensorValues[0]+=Math.floor(e.getUint16(0,!0)*(1-s)),a.sensorValues[1]+=Math.floor(e.getUint16(2,!0)*(1-s)),a.sensorValues[2]+=Math.floor(e.getUint16(4,!0)*(1-s)),a.sensorValues[3]+=Math.floor(e.getUint16(6,!0)*(1-s)),a.sensorValues[4]+=Math.floor(e.getUint16(8,!0)*(1-s)),a.sensorValues[5]+=Math.floor(e.getUint16(10,!0)*(1-s)),a.sensorValues[6]+=Math.floor(e.getUint16(12,!0)*(1-s)),a.sensorValues[7]+=Math.floor(e.getUint16(14,!0)*(1-s))}else a.sensorValues[0]=e.getUint16(0,!0),a.sensorValues[1]=e.getUint16(2,!0),a.sensorValues[2]=e.getUint16(4,!0),a.sensorValues[3]=e.getUint16(6,!0),a.sensorValues[4]=e.getUint16(8,!0),a.sensorValues[5]=e.getUint16(10,!0),a.sensorValues[6]=e.getUint16(12,!0),a.sensorValues[7]=e.getUint16(14,!0)}}]),e}();s.default=l}},[["ERIh",1,2]]]);
//# sourceMappingURL=0.acca0dc6927940c25ab9.js.map